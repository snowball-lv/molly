#include <keyboard_xt.h>
#include <keys.h>

#define CASE(m, b, k) \
	case m: \
		key = k; \
		type = EVENT_TYPE_MAKE; \
	break; \
	case b: \
		key = k; \
		type = EVENT_TYPE_BREAK; \
	break; \

void setEvent(KeyEvent *e, uint8_t scanCode) {
	
	word key = KEY_UNKNOWN;
	word type = EVENT_TYPE_NONE;
	
	switch (scanCode) {
	
	CASE(0x1e, 0x9e, KEY_A);
	CASE(0x30, 0xb0, KEY_B);
	CASE(0x2e, 0xae, KEY_C);
	CASE(0x20, 0xa0, KEY_D);
	CASE(0x12, 0x92, KEY_E);
	CASE(0x21, 0xa1, KEY_F);
	CASE(0x22, 0xa2, KEY_G);
	CASE(0x23, 0xa3, KEY_H);
	CASE(0x17, 0x97, KEY_I);
	CASE(0x24, 0xa4, KEY_J);
	CASE(0x25, 0xa5, KEY_K);
	CASE(0x26, 0xa6, KEY_L);
	CASE(0x32, 0xb2, KEY_M);
	CASE(0x31, 0xb1, KEY_N);
	CASE(0x18, 0x98, KEY_O);
	CASE(0x19, 0x99, KEY_P);
	CASE(0x10, 0x90, KEY_Q);
	CASE(0x13, 0x93, KEY_R);
	CASE(0x1f, 0x9f, KEY_S);
	CASE(0x14, 0x94, KEY_T);
	CASE(0x16, 0x96, KEY_U);
	CASE(0x2f, 0xaf, KEY_V);
	CASE(0x11, 0x91, KEY_W);
	CASE(0x2d, 0xad, KEY_X);
	CASE(0x15, 0x95, KEY_Y);
	CASE(0x2c, 0xac, KEY_Z);
	
	CASE(0x1c, 0x9c, KEY_ENTER);
	CASE(0x39, 0xb9, KEY_SPACE);
	
	};
	
	e->key = key;
	e->type = type;
}












